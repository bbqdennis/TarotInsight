<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tarot Insight Reader</title>
  <link rel="stylesheet" href="modules/css/styles.css" />
  <link rel="stylesheet" href="modules/css/question-page.css" />
  <link rel="stylesheet" href="modules/css/spread-page.css" />
  <link rel="stylesheet" href="modules/css/reading-page.css" />
  <link rel="stylesheet" href="modules/css/report-page.css" />
</head>
<body>
  <header class="app-header">
    <div class="app-header__content">
      <h1 id="app-title">Tarot Insight Reader</h1>
      <p id="app-description">From question analysis to spread guidance, drawing, and reporting — a complete tarot journey.</p>
    </div>
  </header>

  <main class="app-main">
    <div class="mode-toggle">
      <div class="language-toggle" role="group" aria-label="Language">
        <button type="button" class="btn ghost" data-language-option="chinese">中文</button>
        <button type="button" class="btn ghost is-active" data-language-option="english">English</button>
      </div>
      <button id="toggle-simple-mode" class="btn ghost" type="button">Switch to Visual Mode</button>
    </div>
    <section id="question-section" class="panel active">
      <div class="panel__header">
        <h2 id="question-section-title">Questions & Spread Suggestions</h2>
        <p id="question-section-description">Share your question and we will analyze its theme to suggest the best spreads.</p>
      </div>
      <div class="panel__body">
        <label for="user-question" id="question-label" class="input-label">What would you like to explore?</label>
        <textarea
          id="user-question"
          class="input-textarea"
          rows="4"
          placeholder="Example: How will my relationship with my partner develop?"
        ></textarea>
        <div class="actions">
          <button id="submit-question" class="btn primary">Submit Question</button>
          <button id="skip-question" class="btn ghost">Choose a Spread Directly</button>
        </div>
        <div id="analysis-result" class="analysis-result" aria-live="polite"></div>
        <div id="recommended-spreads" class="spread-grid"></div>
      </div>
    </section>

    <section id="spread-section" class="panel">
      <div class="panel__header">
        <h2 id="spread-section-title">Spread Details & Drawing</h2>
        <p id="spread-section-description">Review the spread information and draw your cards.</p>
        <p id="selected-spread-caption">Please select a spread first.</p>
      </div>
      <div class="panel__body">
        <div id="spread-details" class="spread-details"></div>
        <div class="draw-area">
          <div class="draw-controls">
            <button id="draw-manual" class="btn primary" disabled>Draw Next Card</button>
            <button id="draw-auto" class="btn">Draw Automatically</button>
            <button id="reset-draw" class="btn ghost">Shuffle Again</button>
          </div>
          <div class="draw-status"></div>
        </div>
        <div class="panel__footer">
          <button id="to-reading" class="btn success" disabled>Go to Interpretation</button>
          <button class="btn ghost" data-action="back-to-question">Back to Questions</button>
        </div>
      </div>
    </section>

    <section id="reading-section" class="panel">
      <div class="panel__header">
        <h2 id="reading-section-title">Reading Results</h2>
        <p id="reading-section-description">See each position’s meaning and insight step by step.</p>
      </div>
      <div class="panel__body">
        <div id="reading-overview" class="reading-overview"></div>
        <div id="card-interpretations" class="card-interpretations"></div>
      </div>
      <div class="panel__footer">
        <button id="to-report" class="btn success">Generate Report</button>
        <button class="btn ghost" data-action="back-to-draw">Back to Drawing</button>
      </div>
    </section>

    <section id="report-section" class="panel">
      <div class="panel__header">
        <h2 id="report-section-title">Reading Report</h2>
        <p id="report-section-description">Summarize the key messages for saving, sharing, or printing.</p>
      </div>
      <div class="panel__body">
        <div id="report-summary" class="report-summary"></div>
        <div class="report-actions">
          <button id="download-report" class="btn primary">Download PDF</button>
          <button id="copy-report" class="btn">Copy Report</button>
          <button id="share-line" class="btn">Share to LINE</button>
          <button id="share-email" class="btn">Share via Email</button>
        </div>
      </div>
      <div class="panel__footer">
        <button class="btn ghost" data-action="back-to-reading">Back to Interpretation</button>
        <button class="btn" data-action="start-over">Start Over</button>
      </div>
    </section>
  </main>

  <footer class="app-footer">
    <small>© <span id="current-year"></span> <span id="footer-note">Tarot Insight Reader · Guiding your heart with clarity.</span></small>
  </footer>

  <div id="card-lightbox" class="card-lightbox" aria-hidden="true" hidden>
    <div class="card-lightbox__backdrop" data-lightbox-action="close"></div>
    <figure class="card-lightbox__content">
      <button type="button" class="card-lightbox__close" data-lightbox-action="close" aria-label="Close card lightbox view">×</button>
      <img id="card-lightbox-image" class="card-lightbox__image card-image" alt="" loading="lazy" />
      <figcaption id="card-lightbox-caption" class="card-lightbox__caption"></figcaption>
    </figure>
  </div>

  <script src="Txt/ui_text.js"></script>
  <script src="Txt/spread_catalog_zh.js"></script>
  <script src="Txt/spread_catalog_en.js"></script>
  <script src="Txt/major_arcana_zh.js"></script>
  <script src="Txt/major_arcana_en.js"></script>
  <script src="Txt/suit_meta_zh.js"></script>
  <script src="Txt/suit_meta_en.js"></script>
  <script src="Txt/minor_rank_meta_zh.js"></script>
  <script src="Txt/minor_rank_meta_en.js"></script>
  <script src="modules/js/app.js"></script>
  <script src="modules/js/report-page.js"></script>
  <script src="modules/js/reading-page.js"></script>
  <script src="modules/js/spread-page.js"></script>
  <script src="modules/js/question-page.js"></script>
</body>
</html>
